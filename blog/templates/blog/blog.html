{% extends 'blog/base.html' %}

{% block content %}
<div class="search-box">
    <form method="GET" action="">
        <input type="text" name="q" placeholder="Search words..." value="{{ query|default:'' }}">
        <button type="submit">Search</button>
    </form>
</div>

<table>
    <tr>
        <th>Word</th>
        <th>Action</th>
    </tr>
    {% for word in words %}
    <tr>
        <td>{{ word.word }}</td>
        <td><a href="{% url 'word_detail' pk=word.pk %}">View</a> | <a href="{% url 'word_edit' pk=word.pk %}">Edit</a></td>
    </tr>
    {% if word == selected_word %}
    <tr>
        <td colspan="2">
            <div class="word-detail">
                <p>{{ word.description }}</p>
                <small>Published: {{ word.publish_date }}</small>
            </div>
        </td>
    </tr>
    {% endif %}
    {% endfor %}
</table>

<a href="{% url 'word_new' %}" class="add-word-btn">Add new word</a>
{% endblock %}